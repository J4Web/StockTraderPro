(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{4651:function(e,t,r){"use strict";var i=r(6314);t.Z=void 0;var n=i(r(984)),s=r(7437),a=(0,n.default)((0,s.jsx)("path",{d:"M20.5 6c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 8c1.86.5 4 .83 6 1v13h2v-6h2v6h2V9c2-.17 4.14-.5 6-1l-.5-2zM12 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"AccessibilityNew");t.Z=a},7388:function(e,t,r){Promise.resolve().then(r.bind(r,7105))},4729:function(e,t,r){"use strict";var i=r(9222),n=r(2601);let s=i.Z.create({baseURL:"".concat(n.env.NEXT_PUBLIC_BACKEND_URL,"/api"),withCredentials:!0,timeout:1e4});t.Z=s},8182:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var i=r(7437),n=r(1396),s=r.n(n),a=r(6691),o=r.n(a),l=r(6507),d=r(5551),c=r(3226),u=r(2601);let A=()=>{let e={redirect_uri:u.env.NEXT_PUBLIC_GOOGLE_REDIRECT_URI,client_id:u.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID,access_type:"offline",response_type:"code",prompt:"consent",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"},t=new URLSearchParams(e);return"".concat("https://accounts.google.com/o/oauth2/v2/auth","?").concat(t.toString())};var h={src:"/_next/static/media/google-logo.6e023fd9.png",height:900,width:900,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAV1BMVEVMaXE0q1b9wwb2RChKkPA6rVk0pl/ZWks7xTLyQy1GhvXrRDY5iv32uwpGiPs4pHFPjPbrRzlBkM5Hj//pQUFiskXsRDb0YS2cvyf/iQ9GhfvxRTk1qVJD6GEsAAAAHHRSTlMA1DgdMUMpCw1Amf6d/NPnHc+0+i/S29Y0MsjJPjMh0QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD9JREFUeJwVyzcSwCAQALElH8k4R/7/Tg+dGgEhxgCwnzkvQ9dnTAR0fSglzeh6k97NwqG8rBPgVe/NjibOCfxOnQIm8l7JPgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},g=e=>{let{text:t}=e;return(0,i.jsx)(l.Z,{children:(0,i.jsx)(d.Z,{sx:{borderRadius:"0.5rem",backgroundColor:"rgba(144, 202, 249, 0.15)",border:"1px solid rgba(144, 202, 249, 0.15)"},children:(0,i.jsx)(s(),{href:A(),children:(0,i.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(o(),{height:25,width:25,src:h,alt:"google logo"})}),(0,i.jsx)(l.Z,{sx:{p:1,color:"#FFFFFF"},children:(0,i.jsx)(c.Z,{variant:"body2",sx:{height:"100%",width:"auto"},children:t})})]})})})})}},9042:function(e,t,r){"use strict";var i=r(7437),n=r(6507),s=r(3107);r(2265),t.Z=()=>(0,i.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",minHeight:"100vh",position:"fixed"},children:(0,i.jsx)(s.gy,{height:"80",width:"80",color:"#0079FF",ariaLabel:"tail-spin-loading",radius:"1",wrapperStyle:{},wrapperClass:"",visible:!0})})},4197:function(e,t,r){"use strict";r.d(t,{ZL:function(){return s},pg:function(){return a},qC:function(){return n}});var i=r(4729);let n=async(e,t)=>{try{let r=await i.Z.post(e,t),n=await r.data;return n}catch(e){var r;return{error:null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data}}},s=async()=>{try{let e=await i.Z.get("/validate");return e.data}catch(t){var e;return{error:null==t?void 0:null===(e=t.response)||void 0===e?void 0:e.data}}},a=async e=>{try{let t=await i.Z.get("/stockdata/search",{params:{symbol:e}});return t.data}catch(e){var t;return{error:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data}}}},4495:function(e,t){"use strict";t.Z=(e,t)=>{let r={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(r.email="Email is invalid"):r.email="Email is required",e.password||(r.password="Password is required"),"signup"!==t||((!e.fullname||e.fullname.trim().length<1)&&(r.fullname="Full Name is required"),e.password.length<8&&(r.password="Password must be at least 8 characters"),e.confirmPassword&&e.password===e.confirmPassword||(r.confirmPassword="Passwords must match")),{valid:0===Object.keys(r).length,errors:r}}},3250:function(e,t,r){"use strict";var i=r(7437),n=r(2265),s=r(4033),a=r(1023),o=r(7424),l=r(4197),d=r(7865),c=r(9042);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r=>{let u=(0,s.useRouter)(),A=(0,s.usePathname)(),[h,g]=(0,n.useState)(A.startsWith("/chart/")),{isSignedIn:m,status:x}=(0,a.v9)(e=>e.auth),p=(0,a.I0)();return((0,n.useEffect)(()=>((0,l.ZL)().then(e=>{p((0,d.h3)(e)),g(!1)}),()=>{o.W.disconnect()}),[p,t,m,u]),h)?(0,i.jsx)(c.Z,{}):(0,i.jsx)(e,{...r,isAuthenticated:m})}}},7424:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var i=r(3388),n=r(2601);let s=(0,i.io)("".concat(n.env.NEXT_PUBLIC_BACKEND_URL),{autoConnect:!1,withCredentials:!0})},7105:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var i=r(7437),n=r(1396),s=r.n(n),a=r(6691),o=r.n(a),l=r(4033),d=r(2265),c=r(1023),u=r(3107),A=r(2179),h=r(8874),g=r(3283),m=r(3226),x=r(6507),p=r(8823),f=r(1679),v=r(5551),w=r(3973),j=r(115),b=r(9637),y=r(4651),Z=r(9042),C=r(4197),P=r(4495),E=r(8182),I=r(3250),S={src:"/_next/static/media/signup.f7f07082.jpg",height:1152,width:2040,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAaEAACAwEBAAAAAAAAAAAAAAAAAQIDERIh/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgT/xAAYEQADAQEAAAAAAAAAAAAAAAAAAQIhEf/aAAwDAQACEQMRAD8AmM7lTRxGuLTePfdABVdPo3jw/9k=",blurWidth:8,blurHeight:5};let R={fullname:"",email:"",password:"",confirmPassword:""};var k=(0,I.Z)(e=>{let{isAuthenticated:t}=e,[r,n]=(0,d.useState)(R),[a,I]=(0,d.useState)({}),[k,D]=(0,d.useState)(""),[z,O]=(0,d.useState)(!1),{fullname:L,email:_,password:B,confirmPassword:F}=r,T=(0,l.useRouter)(),{isSignedIn:Q,status:U}=(0,c.v9)(e=>e.auth);if((0,d.useEffect)(()=>{document.title="Stock Trading | Sign Up",t&&T.push("/")},[t]),"loading"===U||t||Q)return(0,i.jsx)(Z.Z,{});let N=e=>{let{name:t,value:i}=e.target;n({...r,[t]:i})},M=async e=>{e.preventDefault();let t=(0,P.Z)(r,"signup");if(t.valid){I({}),O(!0);try{var i;let e=await (0,C.qC)("/signup",r);(null==e?void 0:null===(i=e.error)||void 0===i?void 0:i.error)?D(e.error.error):T.push("/")}catch(e){console.log("\uD83D\uDE80 handleSignup.error:",e)}finally{O(!1)}}else I(t.errors)};return(0,i.jsxs)(A.Z,{component:"main",maxWidth:"xl",sx:{p:0,position:"relative",minHeight:"100vh",mb:{xs:10,sm:10,md:10}},children:[(0,i.jsxs)(h.ZP,{container:!0,spacing:0,sx:{borderRadius:"1rem",overflow:"hidden",minHeight:"100vh",mt:{sm:0,md:1}},children:[(0,i.jsx)(h.ZP,{item:!0,xs:12,md:7,sx:{display:"flex",justifyContent:"center",alignItems:"center","& img":{display:{xs:"none",md:"block"}}},children:(0,i.jsx)(o(),{src:S,width:0,height:0,alt:"stock chart",style:{width:"100%",height:"100%",objectFit:"cover"},priority:!0})}),(0,i.jsxs)(h.ZP,{item:!0,xs:12,md:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:{sm:"none",md:"rgba(144, 202, 249, 0.08);"},overflow:{xs:"hidden"},pb:{xs:10,md:6},mt:{xs:8,md:0}},children:[(0,i.jsx)(g.Z,{sx:{m:1,bgcolor:"background.paper"},children:(0,i.jsx)(b.Z,{sx:{color:"white"}})}),(0,i.jsx)(m.Z,{component:"h1",variant:"h6",sx:{pb:2,textTransform:"uppercase",fontWeight:"600",fontFamily:"inherit"},children:"Sign up for STP"}),(0,i.jsx)(E.Z,{text:"Google"}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,i.jsx)(x.Z,{sx:{my:"2rem",height:"1px",mx:"11px",flex:"1 1 0%",borderRadius:"2px",backgroundImage:"linear-gradient(90deg, rgba(233, 237, 241, 0) 35%, rgb(161, 165, 190))"},children:" "}),(0,i.jsx)(m.Z,{sx:{display:"flex",my:"0px",justifyContent:"center",alignItems:"center",fontSize:"14px",textAlign:"center"},children:"OR"}),(0,i.jsx)(x.Z,{sx:{display:"block",height:"1px",mx:"11px",flex:" 1 1 0%",backgroundImage:"linear-gradient(90deg, rgba(233, 237, 241, 0) 35%, rgb(161, 165, 190))",transform:"rotate(180deg)",borderRadius:"2px"}})]}),k&&(0,i.jsx)(m.Z,{variant:"subtitle1",sx:{color:"black",background:"#f7a7a3",fontFamily:"inherit",borderRadius:"0.4rem",borderLeft:"5px solid #8f130c",px:3,py:.8,my:1.5},children:k}),(0,i.jsxs)(x.Z,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsxs)(h.ZP,{container:!0,justifyContent:"center",children:[(0,i.jsx)(h.ZP,{item:!0,xs:8,children:(0,i.jsx)(p.Z,{fullWidth:!0,required:!0,margin:"normal",id:"fullName",label:"Full Name",name:"fullname",value:L,onChange:N,error:!!a.fullname,helperText:a.fullname,InputProps:{startAdornment:(0,i.jsx)(f.Z,{position:"start",children:(0,i.jsx)(y.Z,{})})}})}),(0,i.jsx)(h.ZP,{item:!0,xs:8,children:(0,i.jsx)(p.Z,{fullWidth:!0,required:!0,margin:"normal",id:"email",label:"Email Address",type:"email",name:"email",value:_,onChange:N,error:!!a.email,helperText:a.email,InputProps:{startAdornment:(0,i.jsx)(f.Z,{position:"start",children:(0,i.jsx)(w.Z,{})})}})}),(0,i.jsx)(h.ZP,{item:!0,xs:8,children:(0,i.jsx)(p.Z,{fullWidth:!0,required:!0,margin:"normal",id:"password",label:"Password",type:"password",name:"password",value:B,onChange:N,error:!!a.password,helperText:a.password,InputProps:{startAdornment:(0,i.jsx)(f.Z,{position:"start",children:(0,i.jsx)(j.Z,{})})}})}),(0,i.jsx)(h.ZP,{item:!0,xs:8,children:(0,i.jsx)(p.Z,{fullWidth:!0,required:!0,margin:"normal",id:"confirmPassword",label:"Confirm Password",type:"password",name:"confirmPassword",value:F,onChange:N,error:!!a.confirmPassword,helperText:a.confirmPassword,InputProps:{startAdornment:(0,i.jsx)(f.Z,{position:"start",children:(0,i.jsx)(j.Z,{})})}})})]}),(0,i.jsx)(h.ZP,{container:!0,justifyContent:"center",item:!0,xs:8,children:(0,i.jsx)(v.Z,{fullWidth:!0,type:"submit",variant:"contained",sx:{marginTop:3,borderRadius:5},onClick:M,disabled:z,children:z?(0,i.jsx)(u.gy,{height:"24",width:"24",color:"#0079FF",ariaLabel:"tail-spin-loading",radius:"1",wrapperStyle:{},wrapperClass:"",visible:!0}):"Sign Up"})})]})]})]}),(0,i.jsx)(h.ZP,{container:!0,alignItems:"center",justifyContent:"center",sx:{position:"fixed",bottom:0,left:0,right:0,borderTop:1,backgroundColor:"background.paper",padding:1,zIndex:1,height:"3rem"},children:(0,i.jsxs)(h.ZP,{item:!0,children:["Already have an account? ",(0,i.jsx)(s(),{style:{fontSize:"1rem"},href:"/signin",children:"Sign In"})]})})]})},!0)},7865:function(e,t,r){"use strict";r.d(t,{h3:function(){return d},n$:function(){return s},uf:function(){return l}});var i=r(4302),n=r(4729);let s=(0,i.hg)("auth/signin",async e=>{try{let t=await n.Z.post("/signin",e),r=await t.data;if(r)return r}catch(e){var t;throw Error(null===(t=e.response)||void 0===t?void 0:t.data.message)}}),a=(0,i.oM)({name:"auth",initialState:{name:"",isSignedIn:!1,status:"idle"},reducers:{signin:(e,t)=>{var r;e.isSignedIn=null===(r=t.payload)||void 0===r?void 0:r.isSignedIn},signout:(e,t)=>{var r;e.isSignedIn=null===(r=t.payload)||void 0===r?void 0:r.isSignedIn},validateUser:(e,t)=>{var r;e.isSignedIn=null===(r=t.payload)||void 0===r?void 0:r.isSignedIn}},extraReducers:e=>{e.addCase(s.pending,e=>{e.status="loading"}),e.addCase(s.fulfilled,(e,t)=>{let{payload:r}=t;e.status="idle",e.isSignedIn=null==r?void 0:r.isSignedIn}),e.addCase(s.rejected,e=>{e.status="failed"})}}),{signin:o,signout:l,validateUser:d}=a.actions;t.ZP=a}},function(e){e.O(0,[965,14,152,107,38,138,635,240,971,596,744],function(){return e(e.s=7388)}),_N_E=e.O()}]);