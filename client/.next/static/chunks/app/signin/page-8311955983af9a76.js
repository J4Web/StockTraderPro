(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{2765:function(e,t,n){Promise.resolve().then(n.bind(n,3810))},4729:function(e,t,n){"use strict";var i=n(9222),r=n(2601);let s=i.Z.create({baseURL:"".concat(r.env.NEXT_PUBLIC_BACKEND_URL,"/api"),withCredentials:!0,timeout:1e4});t.Z=s},8182:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var i=n(7437),r=n(1396),s=n.n(r),a=n(6691),o=n.n(a),l=n(6507),d=n(5551),c=n(3226),u=n(2601);let h=()=>{let e={redirect_uri:u.env.NEXT_PUBLIC_GOOGLE_REDIRECT_URI,client_id:u.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID,access_type:"offline",response_type:"code",prompt:"consent",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"},t=new URLSearchParams(e);return"".concat("https://accounts.google.com/o/oauth2/v2/auth","?").concat(t.toString())};var x={src:"/_next/static/media/google-logo.6e023fd9.png",height:900,width:900,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAV1BMVEVMaXE0q1b9wwb2RChKkPA6rVk0pl/ZWks7xTLyQy1GhvXrRDY5iv32uwpGiPs4pHFPjPbrRzlBkM5Hj//pQUFiskXsRDb0YS2cvyf/iQ9GhfvxRTk1qVJD6GEsAAAAHHRSTlMA1DgdMUMpCw1Amf6d/NPnHc+0+i/S29Y0MsjJPjMh0QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD9JREFUeJwVyzcSwCAQALElH8k4R/7/Tg+dGgEhxgCwnzkvQ9dnTAR0fSglzeh6k97NwqG8rBPgVe/NjibOCfxOnQIm8l7JPgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},A=e=>{let{text:t}=e;return(0,i.jsx)(l.Z,{children:(0,i.jsx)(d.Z,{sx:{borderRadius:"0.5rem",backgroundColor:"rgba(144, 202, 249, 0.15)",border:"1px solid rgba(144, 202, 249, 0.15)"},children:(0,i.jsx)(s(),{href:h(),children:(0,i.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(o(),{height:25,width:25,src:x,alt:"google logo"})}),(0,i.jsx)(l.Z,{sx:{p:1,color:"#FFFFFF"},children:(0,i.jsx)(c.Z,{variant:"body2",sx:{height:"100%",width:"auto"},children:t})})]})})})})}},9042:function(e,t,n){"use strict";var i=n(7437),r=n(6507),s=n(3107);n(2265),t.Z=()=>(0,i.jsx)(r.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",minHeight:"100vh",position:"fixed"},children:(0,i.jsx)(s.gy,{height:"80",width:"80",color:"#0079FF",ariaLabel:"tail-spin-loading",radius:"1",wrapperStyle:{},wrapperClass:"",visible:!0})})},4197:function(e,t,n){"use strict";n.d(t,{ZL:function(){return s},pg:function(){return a},qC:function(){return r}});var i=n(4729);let r=async(e,t)=>{try{let n=await i.Z.post(e,t),r=await n.data;return r}catch(e){var n;return{error:null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data}}},s=async()=>{try{let e=await i.Z.get("/validate");return e.data}catch(t){var e;return{error:null==t?void 0:null===(e=t.response)||void 0===e?void 0:e.data}}},a=async e=>{try{let t=await i.Z.get("/stockdata/search",{params:{symbol:e}});return t.data}catch(e){var t;return{error:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data}}}},4495:function(e,t){"use strict";t.Z=(e,t)=>{let n={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(n.email="Email is invalid"):n.email="Email is required",e.password||(n.password="Password is required"),"signup"!==t||((!e.fullname||e.fullname.trim().length<1)&&(n.fullname="Full Name is required"),e.password.length<8&&(n.password="Password must be at least 8 characters"),e.confirmPassword&&e.password===e.confirmPassword||(n.confirmPassword="Passwords must match")),{valid:0===Object.keys(n).length,errors:n}}},3250:function(e,t,n){"use strict";var i=n(7437),r=n(2265),s=n(4033),a=n(1023),o=n(7424),l=n(4197),d=n(7865),c=n(9042);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let u=(0,s.useRouter)(),h=(0,s.usePathname)(),[x,A]=(0,r.useState)(h.startsWith("/chart/")),{isSignedIn:g,status:m}=(0,a.v9)(e=>e.auth),p=(0,a.I0)();return((0,r.useEffect)(()=>((0,l.ZL)().then(e=>{p((0,d.h3)(e)),A(!1)}),()=>{o.W.disconnect()}),[p,t,g,u]),x)?(0,i.jsx)(c.Z,{}):(0,i.jsx)(e,{...n,isAuthenticated:g})}}},7424:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var i=n(3388),r=n(2601);let s=(0,i.io)("".concat(r.env.NEXT_PUBLIC_BACKEND_URL),{autoConnect:!1,withCredentials:!0})},3810:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(7437),r=n(1396),s=n.n(r),a=n(6691),o=n.n(a),l=n(4033),d=n(2265),c=n(1023),u=n(3107),h=n(2179),x=n(8874),A=n(3283),g=n(3226),m=n(6507),p=n(8823),f=n(1679),b=n(5551),j=n(3973),v=n(115),y=n(9637),w=n(9042),Z=n(8182),C=()=>(0,i.jsxs)(x.ZP,{container:!0,sx:{p:1,px:3,zIndex:150,width:{xs:"100%",sm:"40%"},height:{xs:"100%",sm:"60%"},position:"fixed",borderRadius:"0.5rem",backdropFilter:"blur(5px)",backgroundColor:"rgba(0, 0, 0, 0.30)",border:"1px solid rgba(144, 202, 249, 0.15)",bottom:{xs:"0",sm:"10%"},display:"flex",flexDirection:"column"},children:[(0,i.jsx)(x.ZP,{item:!0,sx:{textAlign:"center",flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,i.jsx)(g.Z,{variant:"body1",sx:{fontWeight:"bold",fontFamily:"inherit",letterSpacing:1},children:"Forget Password?"})}),(0,i.jsx)("hr",{style:{border:"none",height:"1px",backgroundColor:"white"}}),(0,i.jsxs)(x.ZP,{item:!0,sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",letterSpacing:.5},children:[(0,i.jsx)(g.Z,{variant:"body1",sx:{fontWeight:"bold",fontFamily:"inherit"},children:"Relax and try to remember your password."}),(0,i.jsx)(g.Z,{variant:"body1",sx:{fontWeight:"bold",fontFamily:"inherit"},children:"We are not going anywhere!"})]}),(0,i.jsx)("hr",{style:{border:"none",height:"1px",backgroundColor:"white"}}),(0,i.jsx)(x.ZP,{item:!0,sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end"},children:(0,i.jsx)(b.Z,{sx:{fontWeight:"bold"},children:"Thanks!"})})]}),I=n(7865),S=n(4495),E=n(3250),P={src:"/_next/static/media/login.a9807716.jpg",height:1152,width:2040,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIDBBEh/8QAFQEBAQAAAAAAAAAAAAAAAAAAAwT/xAAYEQADAQEAAAAAAAAAAAAAAAAAAQIDEf/aAAwDAQACEQMRAD8Am+PlyVEq6oKtPj0k98ABa6Y2cTS60f/Z",blurWidth:8,blurHeight:5},k=(0,E.Z)(e=>{let{isAuthenticated:t}=e,[n,r]=(0,d.useState)(""),[a,E]=(0,d.useState)(""),[k,D]=(0,d.useState)(""),[R,z]=(0,d.useState)(!1),[F,O]=(0,d.useState)(!1),[_,B]=(0,d.useState)({}),L=(0,l.useRouter)(),Q=(0,c.I0)(),{isSignedIn:T,status:U}=(0,c.v9)(e=>e.auth);if((0,d.useEffect)(()=>{document.title="Stock Trading | Sign In",t&&L.push("/")},[t]),t||T)return(0,i.jsx)(w.Z,{});let N=async()=>{let e=(0,S.Z)({email:n,password:a},"login");if(!e.valid){B(e.errors);return}B({}),z(!0),D("");try{var t;let e=await Q((0,I.n$)({email:n,password:a}));(null===(t=e.payload)||void 0===t?void 0:t.isSignedIn)?L.push("/"):D(null==e?void 0:e.error.message)}catch(e){console.log("\uD83D\uDE80 handleSignin.error:",e)}finally{z(!1)}};return(0,i.jsxs)(h.Z,{component:"main",maxWidth:"xl",sx:{p:0,position:"relative",minHeight:"100vh",my:{xs:0,sm:1.2},mb:{md:6}},children:[(0,i.jsxs)(x.ZP,{container:!0,spacing:0,sx:{borderRadius:"1rem",overflow:"hidden",minHeight:"100vh",my:{sm:0,md:1}},children:[(0,i.jsx)(x.ZP,{item:!0,xs:12,md:7,sx:{display:"flex",justifyContent:"center",alignItems:"center","& img":{display:{xs:"none",md:"block"}}},children:(0,i.jsx)(o(),{src:P,width:0,height:0,alt:"stock chart",style:{width:"100%",height:"100%",objectFit:"cover"},priority:!0})}),(0,i.jsxs)(x.ZP,{item:!0,xs:12,md:5,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:{sm:"none",md:"rgba(144, 202, 249, 0.08)"},overflow:{xs:"hidden"},mb:{xs:10,sm:1.2}},children:[(0,i.jsx)(A.Z,{sx:{m:1,bgcolor:"background.paper"},children:(0,i.jsx)(y.Z,{sx:{color:"white"}})}),(0,i.jsx)(g.Z,{component:"h1",variant:"h6",sx:{pb:2,textTransform:"uppercase",fontWeight:"600",fontFamily:"inherit"},children:"Sign in to STP"}),(0,i.jsx)(Z.Z,{text:"Google"}),(0,i.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,i.jsx)(m.Z,{sx:{my:"2rem",height:"1px",mx:"11px",flex:"1 1 0%",borderRadius:"2px",backgroundImage:"linear-gradient(90deg, rgba(233, 237, 241, 0) 35%, rgb(161, 165, 190))"}}),(0,i.jsx)(g.Z,{sx:{display:"flex",my:"0px",justifyContent:"center",alignItems:"center",fontSize:"14px",textAlign:"center"},children:"OR"}),(0,i.jsx)(m.Z,{sx:{display:"block",height:"1px",mx:"11px",flex:" 1 1 0%",backgroundImage:"linear-gradient(90deg, rgba(233, 237, 241, 0) 35%, rgb(161, 165, 190))",transform:"rotate(180deg)",borderRadius:"2px"}})]}),k&&(0,i.jsx)(g.Z,{variant:"subtitle1",sx:{color:"black",background:"#f7a7a3",backdropFilter:"blur(5px)",fontFamily:"inherit",borderRadius:"0.4rem",borderLeft:"5px solid #8f130c",px:3,py:.8,my:1.5},children:k}),(0,i.jsxs)(m.Z,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsxs)(x.ZP,{container:!0,justifyContent:"center",children:[(0,i.jsx)(x.ZP,{item:!0,xs:8,children:(0,i.jsx)(p.Z,{error:!!_.email,helperText:_.email,fullWidth:!0,required:!0,margin:"normal",id:"email",label:"Email Address",type:"email",name:"email",value:n,onChange:e=>r(e.target.value),InputProps:{startAdornment:(0,i.jsx)(f.Z,{position:"start",children:(0,i.jsx)(j.Z,{})})}})}),(0,i.jsx)(x.ZP,{item:!0,xs:8,children:(0,i.jsx)(p.Z,{fullWidth:!0,required:!0,margin:"normal",id:"password",label:"Password",type:"password",value:a,onChange:e=>E(e.target.value),InputProps:{startAdornment:(0,i.jsx)(f.Z,{position:"start",children:(0,i.jsx)(v.Z,{})})}})})]}),(0,i.jsxs)(x.ZP,{container:!0,justifyContent:"center",item:!0,xs:8,onClick:()=>{O(e=>!e)},children:[(0,i.jsx)(g.Z,{variant:"body1",sx:{color:"#4fc3f7",cursor:"pointer"},children:"I forgot password or can't sign in"}),F&&(0,i.jsx)(C,{})]}),(0,i.jsx)(x.ZP,{container:!0,justifyContent:"center",item:!0,xs:8,children:(0,i.jsx)(b.Z,{sx:{borderRadius:5,marginTop:3,width:"100%"},variant:"contained",onClick:N,disabled:R,children:R?(0,i.jsx)(u.gy,{height:"24",width:"24",color:"#0079FF",ariaLabel:"tail-spin-loading",radius:"1",wrapperStyle:{},wrapperClass:"",visible:!0}):"Sign In"})})]})]})]}),(0,i.jsx)(x.ZP,{container:!0,alignItems:"center",justifyContent:"center",sx:{position:"fixed",bottom:0,left:0,right:0,borderTop:1,backgroundColor:"background.paper",padding:1,zIndex:1,height:"3rem"},children:(0,i.jsxs)(x.ZP,{item:!0,children:["Don't have an account? ",(0,i.jsx)(s(),{style:{fontSize:"1rem"},href:"/signup",children:"Sign up"})]})})]})},!0)},7865:function(e,t,n){"use strict";n.d(t,{h3:function(){return d},n$:function(){return s},uf:function(){return l}});var i=n(4302),r=n(4729);let s=(0,i.hg)("auth/signin",async e=>{try{let t=await r.Z.post("/signin",e),n=await t.data;if(n)return n}catch(e){var t;throw Error(null===(t=e.response)||void 0===t?void 0:t.data.message)}}),a=(0,i.oM)({name:"auth",initialState:{name:"",isSignedIn:!1,status:"idle"},reducers:{signin:(e,t)=>{var n;e.isSignedIn=null===(n=t.payload)||void 0===n?void 0:n.isSignedIn},signout:(e,t)=>{var n;e.isSignedIn=null===(n=t.payload)||void 0===n?void 0:n.isSignedIn},validateUser:(e,t)=>{var n;e.isSignedIn=null===(n=t.payload)||void 0===n?void 0:n.isSignedIn}},extraReducers:e=>{e.addCase(s.pending,e=>{e.status="loading"}),e.addCase(s.fulfilled,(e,t)=>{let{payload:n}=t;e.status="idle",e.isSignedIn=null==n?void 0:n.isSignedIn}),e.addCase(s.rejected,e=>{e.status="failed"})}}),{signin:o,signout:l,validateUser:d}=a.actions;t.ZP=a}},function(e){e.O(0,[965,14,152,107,38,138,635,240,971,596,744],function(){return e(e.s=2765)}),_N_E=e.O()}]);